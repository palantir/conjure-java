types:
  definitions:
    default-package: com.palantir.product
    objects:
      AliasedBinaryResult:
        alias: binary
      DoubleAliasedBinaryResult:
        alias: AliasedBinaryResult
      AliasOptionalDoubleAliasedBinaryResult:
        alias: optional<DoubleAliasedBinaryResult>

services:
  EteBinaryService:
    default-auth: header
    base-path: /binary
    package: com.palantir.product
    name: Ete Binary Endpoints
    endpoints:
      postBinary:
        http: POST /
        args:
          body: binary
        returns: binary
      postBinaryThrows:
        http: POST /throws
        args:
          body: binary
          bytesToRead:
            param-type: query
            type: integer
        returns: binary
      getOptionalBinaryPresent:
        http: GET /optional/present
        returns: optional<binary>
      getOptionalBinaryEmpty:
        http: GET /optional/empty
        returns: optional<binary>
      getBinaryFailure:
        http: GET /failure
        args:
          numBytes:
            type: integer
            param-type: query
        docs: Throws an exception after partially writing a binary response.
        returns: binary
      getAliased:
        http: GET /aliased
        returns: AliasOptionalDoubleAliasedBinaryResult
